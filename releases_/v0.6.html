<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>v0.6 - 2025-07-01 | C# Reference Architecture </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="v0.6 - 2025-07-01 | C# Reference Architecture ">
      
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/TER-SEMITEST-InnerSource/cs-reference-architecture/blob/main/docs/releases_/v0.6.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../media/logo.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="v06---2025-07-01">v0.6 - 2025-07-01</h1>

<h2 id="breaking-changes">Breaking Changes</h2>
<h3 id="adding-the-optional-parameter-gate-to-the-setup-functions">Adding the optional parameter <code>gate</code> to the setup functions.</h3>
<p><strong>Changes to the functions in the following way:</strong></p>
<ul>
<li><p>The <code>connect</code> method will retain the option for <code>gate</code>, but it will be set to false by default instead of having <code>gate on</code> as the default.</p>
</li>
<li><p>The <code>Force</code>, <code>ForceI</code>, <code>ForceV</code> and <code>SetForceAndMeter</code> methods will include an optional parameter to enable <code>gate</code>, which will, by default, switch to <code>gate on</code>.</p>
</li>
<li><p>The <code>disconnect</code> method will keep the <code>gate</code> option and default to <code>gate off</code>.</p>
</li>
</ul>
<p><em>The reasoning behind this is that it's safer to enable <code>gate</code> after the instrument is configured. In the current test methods, we enable <code>gate</code> in the <code>connect</code> method, but this approach involves connecting and powering the source with inherited settings, without knowing whether those settings are safe for the DUT.</em></p>
<h3 id="custom-action-use-model-changed">Custom Action Use-Model Changed</h3>
<p>Instead of having one use-model for custom settings, three different are introduced to target specific use-cases.</p>
<pre><code class="lang-c#">// previous use-model
Setting.Custom&lt;T&gt;(string key, T value, Action&lt;T&gt; setAction, Func&lt;T[]&gt; readFunc, T initValue, InitMode initMode, double settlingTime);

// new use-model
Setting.Custom&lt;T&gt;(T value, Action&lt;T&gt; setAction); // always executes
Setting.Custom&lt;T&gt;(string key, T value, Action&lt;T&gt; setAction, T initValue, InitMode initMode); // executes depending on cache
Setting.Custom&lt;T&gt;(string key, T value, Action&lt;T&gt; setAction, Func&lt;T[]&gt; readFunc, T initValue, InitMode initMode); // has also read capabilities
</code></pre>
<p><strong>Impact:</strong> Users who have used the <code>Custom</code> Setting need to change their code to one of these three use-models.</p>
<h3 id="update--enhance-test-blocks-for-linearfull-linearstop--binary-search">Update &amp; Enhance Test Blocks for LinearFull, LinearStop &amp; Binary Search</h3>
<p>Functionality has been added to support searching for &quot;closest-to-target&quot; and overloads returning the search indices &amp; output values for the input found. The method's signatures have been updated for consistency.</p>
<p><strong>Impact:</strong> Little impact as not widely (at all?) used so far.</p>
<h2 id="bug-fixes">Bug Fixes</h2>
<h3 id="fixing-the-bug-for-measure-current-in-multicondition">Fixing the bug for measure current in MultiCondition</h3>
<p><code>Voltage</code> measurement was always selected.</p>
<h3 id="fixing-the-bug-in-multicondition">Fixing the bug in MultiCondition</h3>
<p>The issue regarding the for loop condition has been resolved, it now references the measured values. For displaying the forced value, a check was introduced to fix the bug when using uniform MultiCondition.</p>
<h3 id="solve-the-bug-in-modify-for-ppmu">Solve the bug in Modify for PPMU</h3>
<p>The syntax in method Modify for PPMU had an issue related to settings - if Mode and MeterMode were not set, an error was returned. This update ensures that the error is only triggered in specific cases where the required parameters are not provided.</p>
<h3 id="changes-to-the-force-method">Changes to the Force method</h3>
<p>The issues that occurred for DCVS and DCVI are due to the <code>clampValue</code>. If the value does not belong to the range of clamp settings, errors will occur.
Therefore, the call has been adjusted within the Force method so that the clamp value is passed as a range also.</p>
<p><strong>Impact:</strong> On the user side, nothing changes.</p>
<h3 id="object-initialization-in-isvalidating">Object initialization in IsValidating</h3>
<p>Objects are not updated after validation if the user modifies the object (eg, pins) in the instance.</p>
<pre><code class="lang-c#">// Old 
if (TheExec.Flow.IsValidating) {
    _pins ??= new Pins(pinList);
}
 // New 
if (TheExec.Flow.IsValidating) {
    _pins = new Pins(pinList);
}
</code></pre>
<h3 id="modification-of-the-clamp-setting-for-ppmu">Modification of the clamp setting for PPMU</h3>
<p>The application of the clamp value in the case of PPMU was carried out in accordance with the forced current value when using method SetForceAndMeter.</p>
<h2 id="improvements">Improvements</h2>
<h3 id="add-domain-to-pins-type">Add <code>Domain</code> to <code>Pins</code> type</h3>
<p>Besides <code>Type</code> and <code>Feature</code>, a <code>Pins</code> object can now be queried for <code>Domain</code> information, like <code>Dc</code>, <code>Digital</code> or <code>Utility</code>.</p>
<pre><code class="lang-c#">Pins pins = new Pins(&quot;ana1, ana2, dig1&quot;);
if (!pins.ContainsDomain(InstrumentDomain.Dc)) {
    Console.WriteLine(&quot;no DC capable pins&quot;);
}
</code></pre>
<p><strong>Impact:</strong> Simplifies test block and validation code to check if compatible pins have been provided.</p>
<h3 id="disconnectingconnecting-digital-pins-in-testmethods">Disconnecting/Connecting digital pins in TestMethods</h3>
<p>Disconnecting/Connecting digital pins in TestMethods before connecting/disconnecting the DC part.
Modifying the documentation in accordance with TestMethods execution.</p>
<h3 id="pattern-type-as-input-variable">Pattern type as input variable</h3>
<p><code>Csra.Parametric.MultiCondition.PreconditionPattern</code> used a <code>string</code> instead of a <code>Pattern</code>  type as an input variable.</p>
<h3 id="value-based-comparison-for-pin-and-pins-object">Value-Based Comparison for <code>Pin</code> and <code>Pins</code> object</h3>
<p>Two <code>Pin</code> objects are considered equal if their <code>Name</code> properties are equal.
Two <code>Pins</code> collections are considered equal if they contain the same sequence of <code>Pin</code> objects (by name), in the same order.</p>

</article>


        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Â© 2024 - <span id='currentYear'></span> Teradyne - Generated by <a href="https://dotnet.github.io/docfx">DocFx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
